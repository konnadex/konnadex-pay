<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<html>
  <head>
    <meta charset="utf-8" />
    <title>Getting Started</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdn.jsdelivr.net/gh/konnadex/konnadex-pay@main/index.min.js?v=<?= Date.now() ?>"></script>
    <!-- <script src="./index.min.js"></script> -->
  </head>

  <body>
    <div
      id="wrapper"
      style="
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
      "
    >
      <h4>Konnadex Checkout Demo</h4>
      <div>
        <button
          style="width: 100px; height: 40px; background: gray"
          id="button"
        >
          Pay
        </button>
      </div>
    </div>
    <script>
      const pay = new KonnadexCheckout({
        key: "KDX_PK_TEST_7hdmUZ/yMWp/X7hqmLHjdhiDPi0lM9LWvL6zuxu0ZTt5ZplF",
        reference: "39234213434432sd242",
        theme: "light",
        env: "DEVELOPMENT",
        currency: "NGN",
        amount: "1.02",
        network: "ASSETCHAIN",
        cryptoCurrency: "CNGN",
        defaultTab: "transfer", // contract | transfer,
        metadata: {
          email: "ugdesmond+livinustest@gmail.com",
          fullname: "John Doe",
          description: "",
        },
        onSuccess: success,
        onError: error,
        onClose,
      });

      function success(data) {
        console.log(data);
      }

      function error(data) {
        console.log(data);
      }

      function onClose(data) {
        console.log(data);
      }
      const button = document.querySelector("#button");

      button.addEventListener("click", function () {
        pay.initializePay();
      });
    </script>
  </body>
</html>
